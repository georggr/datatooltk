<?xml version="1.0" encoding="utf-8" standalone="yes" ?>

<!-- 
    Installation file for datatooltk.
-->

<installation version="1.0">

  <properties>
    <property name="info.appName" value="datatooltk"/>
    <property name="info.url" value="http://www.dickimaw-books.com/apps/datatooltk/"/>
    <property name="project.version" value="1.2" />
  </properties>

    <!-- 
        The info section.
    -->
    <info>
        <appname>@{info.appName}</appname>
        <appversion>@{project.version}</appversion>
        <authors>
            <author name="Nicola L. C. Talbot" email="n.talbot@uea.ac.uk"/>
        </authors>
        <url>@{info.url}</url>
        <javaversion>1.7</javaversion>
    </info>

    <guiprefs width="640" height="480" resizable="yes">
     <splash>images/datatooltk-splash.png</splash>
    </guiprefs>

   <variables>
        <variable name="DesktopShortcutCheckboxEnabled" value="true"/>
   </variables>

    <locale>
        <langpack iso3="eng"/>
    </locale>

    <resources>
        <res id="LicencePanel.licence" src="doc/LICENSE"/>
        <res id="InfoPanel.info" src="doc/README"/>
        <res id="shortcutSpec.xml" src="installer/shortcutSpec.xml"/>
        <res id="Unix_shortcutSpec.xml" src="installer/unix_shortcutSpec.xml"/>

    </resources>

    <panels>
        <panel classname="HelloPanel"/>
        <panel classname="InfoPanel"/>
        <panel classname="LicencePanel"/>
        <panel classname="TargetPanel"/>
        <panel classname="PacksPanel"/>
        <panel classname="InstallPanel"/>
        <panel classname="ShortcutPanel"/>
        <panel classname="FinishPanel"/>
    </panels>

    <packs>
        <pack name="Base" required="yes">
            <description>The base files</description>
            <file src="doc/README" targetdir="$INSTALL_PATH"/>
            <file src="doc/LICENSE" targetdir="$INSTALL_PATH"/>
            <file src="lib" targetdir="$INSTALL_PATH"/>
            <fileset dir="bin" excludes="**/*.bat"
              targetdir="$INSTALL_PATH/bin"
              />
            <executable targetfile="$INSTALL_PATH/bin/@{info.appName}"
            stage="never"/>
            <executable targetfile="$INSTALL_PATH/bin/@{info.appName}-gui"
            stage="never"/>
            <file src="bin/@{info.appName}.bat" targetdir="$INSTALL_PATH/bin">
              <os family="windows"/>
            </file>
            <file src="bin/@{info.appName}-gui.bat" targetdir="$INSTALL_PATH/bin">
              <os family="windows"/>
            </file>
        </pack>
        <pack name="Docs" required="no" preselected="yes">
            <description>The documentation</description>
            <fileset dir="doc" includes="**/*.pdf" targetdir="$INSTALL_PATH/doc"/>
        </pack>
        <pack name="Source" required="no" preselected="no">
            <description>The source code</description>
            <file src="doc/createdatatooltkdocs" targetdir="$INSTALL_PATH/src/doc" />
            <file src="doc/images" targetdir="$INSTALL_PATH/src/doc" />
            <fileset dir="." includes="**/Makefile" 
              targetdir="$INSTALL_PATH/src" />
            <fileset dir="." includes="**/README" 
              targetdir="$INSTALL_PATH/src" />
            <fileset dir="." includes="**/LICENSE" 
              targetdir="$INSTALL_PATH/src" />
            <fileset dir="." includes="**/*.xml" 
              targetdir="$INSTALL_PATH/src" />
            <file src="bin" targetdir="$INSTALL_PATH/src" />
            <file src="images" targetdir="$INSTALL_PATH/src" />
            <file src="java" targetdir="$INSTALL_PATH/src" />
            <fileset dir="resources" targetdir="$INSTALL_PATH/src/resources"
              includes="**/*.prop" />
            <fileset dir="tests" targetdir="$INSTALL_PATH/src/tests"
              includes="**/*.tex" />
            <fileset dir="tests" targetdir="$INSTALL_PATH/src/tests"
              includes="**/*.dbtex" />
            <fileset dir="tests" targetdir="$INSTALL_PATH/src/tests"
              includes="**/*.csv" />
            <fileset dir="tests" targetdir="$INSTALL_PATH/src/tests"
              includes="**/*.sql" />
        </pack>
    </packs>

     <native type="izpack" name="ShellLink.dll"/>
     <native type="izpack" name="ShellLink_x64.dll"/>

</installation>
